{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\nexport async function getImages(query, currentPage) {\n\n  const baseURL = \"https://pixabay.com/api/\";\n  const  url = baseURL\n \n  const params = {\n    key: '43032370-bcf3e6db34194155efa6e28b4',\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n      safesearch: true,\n      language: 'en',\n      pageSize: 15,\n      page: currentPage,\n  };\n   \n\n  const apiRes = await axios.get(url,{params});\n  return apiRes.data;\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport const galleryEl = document.querySelector(\".gallery\");\nexport function createMarkUp(images) {\n  const markUp = images\n    .map(\n      image => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\"\n    href=\"${image.largeImageURL}\"\n    ><img\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n  />\n  <ul class=\"img-dscr\">\n    <li>\n      <p><b>Likes</b> ${image.likes}</p>\n    </li>\n    <li>\n      <p><b>Views</b> ${image.views}</p>\n    </li>\n    <li>\n      <p><b>Comments</b> ${image.comments}</p>\n    </li>\n    <li>\n      <p><b>Downloads</b> ${image.downloads}</p>\n    </li>\n  </ul>\n  </a>\n</li>\n\n`\n    )\n    .join(\"\");\n  galleryEl.insertAdjacentHTML(\"beforeend\", markUp);\n  const lightbox = new SimpleLightbox(\".gallery-link\", {\n    captionsData: \"alt\",\n    captionDelay: 250,\n  });\n}","import { getImages } from \"./js/pixabay-api\";\nimport { createMarkUp, galleryEl } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst formEl = document.querySelector(\".form\");\nconst inputEl = document.querySelector(\"input\");\nconst loaderEl = document.querySelector(\".loader\");\nconst  btnLoadMore = document.querySelector('.load-more-button')\n\nlet query;\n\nformEl.addEventListener(\"submit\", async event => {\n    event.preventDefault();\n    \n    const query = inputEl.value.trim();\n    showLoadMore() \n\nformEl.addEventListener('submit', async event => {\n    \n   \nquery = inputEl.value.trim();\n    inputEl.innerHTML = ' ';\n    const data = await getImages(query, 1);\n    renderImages(data.images); \n        showLoadMore() \n\n})\n    \n    btnLoadMore.addEventListener('click', onLoadMoreClick)\n     async function onLoadMoreClick() {\n        const data = await getImages(query,1)\nrenderImages(data.images); \n        showLoadMore() \n\n   }\n\n    if (query === \"\") {\n      return iziToast.warning({\n      title: \"Caution\",\n      message: \"Please complete the field!\",\n        position: \"topRight\",\n      });\n    }\n\n\n    function showLoadMore() {\n        btnLoadMore.classList.remove('hidden')\n    }\n     function hideLoadMore() { \n        btnLoadMore.classList.add('hidden') \n    } \n   loaderEl.classList.add(\"is-open\");\n  galleryEl.innerHTML = \"\";\n\n  try {\n    const response = await getImages(query);\n    if (response.hits.length === 0) {\n      iziToast.info({\n        title: \"Sorry\",\n        message:\n          \"There are no images matching your search query. Please try again!\",\n        position: \"topRight\",\n      });\n    } else {\n      createMarkUp(response.hits);\n    }\n  } catch (error) {\n    console.error(\"Error fetching images:\", error);\n    iziToast.error({\n      title: \"Error\",\n      message: \"An error occurred while fetching images. Please try again later.\",\n      position: \"topRight\",\n    });\n  } finally {\n    loaderEl.classList.remove(\"is-open\");\n    inputEl.value = \"\";\n  }\n});"],"names":["getImages","query","currentPage","url","params","axios","galleryEl","createMarkUp","images","markUp","image","SimpleLightbox","formEl","inputEl","loaderEl","btnLoadMore","event","showLoadMore","data","onLoadMoreClick","iziToast","response","error"],"mappings":"owBAGO,eAAeA,EAAUC,EAAOC,EAAa,CAGlD,MAAOC,EADS,2BAGVC,EAAS,CACb,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACX,WAAY,GACZ,SAAU,KACV,SAAU,GACV,KAAMC,CACZ,EAIE,OADe,MAAMG,EAAM,IAAIF,EAAI,CAAC,OAAAC,CAAM,CAAC,GAC7B,IAChB,CCnBO,MAAME,EAAY,SAAS,cAAc,UAAU,EACnD,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IACCE,GAAS;AAAA;AAAA,YAEHA,EAAM,aAAa;AAAA;AAAA,aAElBA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,wBAICA,EAAM,KAAK;AAAA;AAAA;AAAA,wBAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,2BAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,4BAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAOtC,EACA,KAAK,EAAE,EACVJ,EAAU,mBAAmB,YAAaG,CAAM,EAC/B,IAAIE,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CClCA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAW,SAAS,cAAc,SAAS,EAC1CC,EAAc,SAAS,cAAc,mBAAmB,EAI/DH,EAAO,iBAAiB,SAAU,MAAMI,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMf,EAAQY,EAAQ,MAAM,KAAI,EAChCI,EAAc,EAElBL,EAAO,iBAAiB,SAAU,MAAMI,GAAS,CAGjDf,EAAQY,EAAQ,MAAM,OAClBA,EAAQ,UAAY,IACpB,MAAMK,EAAO,MAAMlB,EAAUC,EAAO,CAAC,EACrC,aAAaiB,EAAK,MAAM,EACpBD,EAAc,CAEtB,CAAC,EAEGF,EAAY,iBAAiB,QAASI,CAAe,EACpD,eAAeA,GAAkB,CAC9B,MAAMD,EAAO,MAAMlB,EAAUC,EAAM,CAAC,EAC5C,aAAaiB,EAAK,MAAM,EAChBD,EAAc,CAElB,CAEA,GAAIhB,IAAU,GACZ,OAAOmB,EAAS,QAAQ,CACxB,MAAO,UACP,QAAS,6BACP,SAAU,UAClB,CAAO,EAIH,SAASH,GAAe,CACpBF,EAAY,UAAU,OAAO,QAAQ,CACxC,CAIFD,EAAS,UAAU,IAAI,SAAS,EACjCR,EAAU,UAAY,GAEtB,GAAI,CACF,MAAMe,EAAW,MAAMrB,EAAUC,CAAK,EAClCoB,EAAS,KAAK,SAAW,EAC3BD,EAAS,KAAK,CACZ,MAAO,QACP,QACE,oEACF,SAAU,UAClB,CAAO,EAEDb,EAAac,EAAS,IAAI,CAE7B,OAAQC,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mEACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRN,EAAS,UAAU,OAAO,SAAS,EACnCD,EAAQ,MAAQ,EACjB,CACH,CAAC"}